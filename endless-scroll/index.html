---
layout: default
title: Infinite Scroll
---

<h1 class="jg-h1-secondary">
    Infinite Scroll
</h1>

<hr/>

<div>
    <p>
        In this example you can see how to use the plugin to obtain an infinite scroll.
    </p><p>
    The first thing to do is to initialize the gallery as usually.
</p>
{% highlight javascript %}
$('#gallery').justifiedGallery({rowHeight:120});{% endhighlight %}
<p>
    Then you need to implement the infinite scroll as you want. You have only to recall Justified Gallery after that
    you have added some images. For example:
</p>
{% highlight javascript %}
$(window).scroll(function() {
  if($(window).scrollTop() + $(window).height() == $(document).height()) {
    for (var i = 0; i < 5; i++) {
      $('#gallery').append('<a>' +
          '<img src="http://path/to/image" />' + 
          '</a>');
    }
    $('#gallery').justifiedGallery('norewind');
  }
});{% endhighlight %}
<p>
    You can notice that we are calling Justified Gallery using the special command <code>'norewind'</code>.
    In this way the plugin doesn't re-analyzes all the images, but only the new ones. This parameter increases the
    performance, and also prevents the page to have strange behaviours with the scrollbars. Moreover, with this
    command, only the new images are filtered, ordered, or randomized.
</p>
<div class="alert alert-info">
    Scroll down the page to see the new images
</div>
<p>
    <div id="endless-gallery" >
        <a>
            <img src="http://dummyimage.com/250x150/000/ffffff.png" />' +
        </a>
    </div>
</p>
<script>
        /*availableImgs = [{% for en in site.images %}
            { desc : "{{ en.desc }}", src : "{{ en.url | prepend: site.baseurl }}_m.jpg" },
            {% endfor %}]*/

            function addSomeImages(limit) {
                for (var i = 0; i < limit; i++) {
                //var imgIdx = Math.floor(Math.random() * availableImgs.length);
                $('#endless-gallery').append('<a>' +
                    //'<img src="' + availableImgs[imgIdx].src + '" />' + 
                    '<img src="http://dummyimage.com/' +
                    Math.ceil(Math.random() * 250 + 150) +
//                    '/' +
                      'x' +
                    Math.ceil(Math.random() * 250 + 150) +
//                    '" />' +
                      '/000/ffffff.png" />' +
                    '</a>');
            }
            $('#endless-gallery').justifiedGallery('norewind');
        }

        $('#endless-gallery').justifiedGallery({
            rowHeight : 120
        });

        addSomeImages(10);
        $(window).scroll(function() {
            if($(window).scrollTop() + $(window).height() == $(document).height()) {
                addSomeImages(5);
            }
        });
    </script>
</div>